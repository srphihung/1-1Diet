{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/srphi/Documents/Projects/1-1Diet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/srphi/Documents/Projects/1-1Diet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/srphi/Documents/Projects/1-1Diet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Logo from\"../../../images/logodiet.svg\";import TopNav from'../TopNav';import'../../styles/Appointments/Appointments.css';import{IonButton,IonCard,IonCol,IonContent,IonDatetime,IonIcon,IonInput,IonItem,IonItemOption,IonLabel,IonModal,IonSelect,IonSelectOption,IonTab,IonText,IonTextarea,IonTitle}from'@ionic/react';import{calendar,chevronBackOutline,close}from'ionicons/icons';import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import axios from'axios';import CurrentUser from'../../../Data/CurrentUser.json';import SeeAppointment from'./SeeAppointment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Appointments(){var _useState=useState(CurrentUser[0]),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showCalendar=_useState4[0],setShowCalendar=_useState4[1];var _useState5=useState(new Date()),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],onChange=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),modalController=_useState8[0],setModalController=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),selectConsulent=_useState10[0],setSelectConsulent=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),date=_useState12[0],setDate=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),time=_useState14[0],setTime=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),name=_useState16[0],setName=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),email=_useState18[0],setEmail=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),number=_useState20[0],setNumber=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),comment=_useState22[0],setComment=_useState22[1];var _useState23=useState({isOpen:false}),_useState24=_slicedToArray(_useState23,2),confirmModal=_useState24[0],setConfirmModal=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),appointment=_useState26[0],setAppointment=_useState26[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var api_url,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:api_url='http://31.14.96.253/appointments';_context.next=3;return fetch(api_url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setAppointment(data);case 8:case\"end\":return _context.stop();}}},_callee);})),[setAppointment]);// Get current month name\nvar d=new Date();var monthNames=[\"Januari\",\"Februari\",\"Maart\",\"April\",\"Mei\",\"Juni\",\"Juli\",\"Augustus\",\"September\",\"Oktober\",\"November\",\"December\"];var month=monthNames[d.getMonth()];// Get current week of year\nfunction getWeekNumber(d){// Copy date so don't modify original\nd=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate()));// Set to nearest Thursday: current date + 4 - current day number\n// Make Sunday's day number 7\nd.setUTCDate(d.getUTCDate()+4-(d.getUTCDay()||7));// Get first day of year\nvar yearStart=new Date(Date.UTC(d.getUTCFullYear(),0,1));// Calculate full weeks to nearest Thursday\nvar weekNo=Math.ceil(((d-yearStart)/86400000+1)/7);// Return array of year and week number\nreturn[weekNo];}var result=getWeekNumber(new Date());return/*#__PURE__*/_jsxs(IonContent,{className:\"calendarPage\",children:[/*#__PURE__*/_jsx(TopNav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"calendarContent\",children:currentUser?/*#__PURE__*/_jsxs(\"div\",{className:\"calendarContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"datePicker\",children:[/*#__PURE__*/_jsxs(\"button\",{className:showCalendar?\"currentWeek\":\"currentWeekActive\",onClick:function onClick(){return setShowCalendar(false);},children:[\"Week \",result]}),/*#__PURE__*/_jsx(\"button\",{className:showCalendar?\"openCalendarActive\":\"openCalendar\",onClick:function onClick(){return setShowCalendar(function(current){return!current;});},children:month}),/*#__PURE__*/_jsx(IonIcon,{icon:calendar,className:\"toCurrentDate\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"events\",children:/*#__PURE__*/_jsx(\"button\",{className:\"makeAppointment\",onClick:function onClick(){return setModalController(function(current){return!current;});},children:\"Afspraak inplannen\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"appointmentContainer\",children:[/*#__PURE__*/_jsx(IonTitle,{className:\"Title\",children:\"Mijn afspraken\"}),appointment.map(function(appointment){return/*#__PURE__*/_jsx(SeeAppointment,{consulent:appointment.consulent,date:appointment.datum_tijd,time:appointment.time,name:appointment.name,email:appointment.email,number:appointment.number,comment:appointment.comment},appointment.consulent);})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"noUserWarning\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Het lijkt er op dat u nog geen account heeft, log in om een afspraak te maken bij een van onze consulenten!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toLogin\",children:\"Inloggen\"})]})}),modalController?/*#__PURE__*/_jsxs(\"div\",{className:\"Modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navigationInfo\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:chevronBackOutline,className:\"goBack\",onClick:function onClick(){return setModalController(false);}}),/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:Logo,onClick:function onClick(){return console.log(name);}})]}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"appointment\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Uw gegevens\"}),/*#__PURE__*/_jsx(IonSelect,{placeholder:\"Kies je consulent\",className:\"selectConsulent\",onIonChange:function onIonChange(e){return setSelectConsulent(e.detail.value);},children:/*#__PURE__*/_jsx(IonSelectOption,{children:currentUser.consulent[0].consulent_name})}),/*#__PURE__*/_jsxs(IonItem,{className:\"flexitem\",lines:\"none\",children:[/*#__PURE__*/_jsx(IonDatetime,{onIonChange:function onIonChange(e){return setDate(e.detail.value);},className:\"selectDate\",min:\"2021-05-27\",max:\"2023-12-31\",displayTimezone:\"utc\",placeholder:\"Kies Datum\",displayFormat:\"DD/MM/YYYY\"}),/*#__PURE__*/_jsx(IonDatetime,{onIonChange:function onIonChange(e){return setTime(e.detail.value);},className:\"selectDate\",displayTimezone:\"utc\",placeholder:\"Kies Tijd\",displayFormat:\"HH:mm\"})]}),/*#__PURE__*/_jsx(IonItem,{className:\"item\",lines:\"none\",children:/*#__PURE__*/_jsx(IonInput,{className:\"inputIon\",onIonChange:function onIonChange(e){return setName(e.target.value);},inputMode:\"name\",name:\"naam\",type:\"name\",placeholder:\"Naam\",required:\"true\"})}),/*#__PURE__*/_jsx(IonItem,{className:\"item\",lines:\"none\",children:/*#__PURE__*/_jsx(IonInput,{className:\"inputIon\",onIonChange:function onIonChange(e){return setEmail(e.target.value);},inputMode:\"email\",autocomplete:\"email\",minlength:\"5\",name:\"email\",type:\"email\",placeholder:\"E-mail\",required:\"true\"})}),/*#__PURE__*/_jsx(IonItem,{className:\"item\",lines:\"none\",children:/*#__PURE__*/_jsx(IonInput,{className:\"inputIon\",onIonChange:function onIonChange(e){return setNumber(e.target.value);},inputMode:\"tel\",autocomplete:\"tel\",name:\"telefoonnummer\",minlength:\"10\",maxlength:\"10\",type:\"tel\",placeholder:\"Telefoonnummer\",required:\"true\"})}),/*#__PURE__*/_jsx(IonItem,{className:\"item\",lines:\"none\",children:/*#__PURE__*/_jsx(IonTextarea,{onIonChange:function onIonChange(e){return setComment(e.target.value);},className:\"comment\",name:\"comment\",spellcheck:\"true\",\"auto-grow\":\"true\",placeholder:\"Zet hier je opmerking\"})}),/*#__PURE__*/_jsx(IonButton,{color:\"none\",className:\"submit\",onClick:function onClick(){return setConfirmModal({isOpen:true});},children:\"Bevestigen\"})]}),/*#__PURE__*/_jsxs(IonModal,{isOpen:confirmModal.isOpen,className:\"confirmModal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navigationInfo\",children:[/*#__PURE__*/_jsx(IonIcon,{icon:close,className:\"goBack\",onClick:function onClick(){return setConfirmModal({isOpen:false});}}),/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:Logo,onClick:function onClick(){return console.log(name);}})]}),/*#__PURE__*/_jsxs(IonCol,{className:\"modalContent\",children:[/*#__PURE__*/_jsx(\"h2\",{onClick:function onClick(){return console.log(appointment);},children:\"Bevestig afspraak\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Naam:\"}),\" \",name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tel. nummer:\"}),\" \",number]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Consulent:\"}),\" \",selectConsulent]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Datum:\"}),\" \",date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tijd:\"}),\" \",time]}),/*#__PURE__*/_jsxs(\"p\",{className:\"comment\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Bericht:\"}),\" \",comment]}),/*#__PURE__*/_jsx(IonButton,{className:\"submit\",color:\"none\",onClick:function onClick(){setModalController(false);setConfirmModal({isOpen:false});},children:\"Afspraak opslaan\"}),/*#__PURE__*/_jsx(\"a\",{className:\"borderBottom\"})]})]}),/*#__PURE__*/_jsx(\"a\",{className:\"borderBottom\"})]})]}):null,/*#__PURE__*/_jsx(\"a\",{className:\"borderBottom\"})]});}export default Appointments;","map":{"version":3,"sources":["C:/Users/srphi/Documents/Projects/1-1Diet/src/pages/js/Appointments/Appointments.js"],"names":["React","useEffect","useState","TopNav","IonButton","IonCard","IonCol","IonContent","IonDatetime","IonIcon","IonInput","IonItem","IonItemOption","IonLabel","IonModal","IonSelect","IonSelectOption","IonTab","IonText","IonTextarea","IonTitle","calendar","chevronBackOutline","close","Calendar","axios","CurrentUser","SeeAppointment","Appointments","currentUser","setCurrentUser","showCalendar","setShowCalendar","Date","value","onChange","modalController","setModalController","selectConsulent","setSelectConsulent","date","setDate","time","setTime","name","setName","email","setEmail","number","setNumber","comment","setComment","isOpen","confirmModal","setConfirmModal","appointment","setAppointment","api_url","fetch","response","json","data","d","monthNames","month","getMonth","getWeekNumber","UTC","getFullYear","getDate","setUTCDate","getUTCDate","getUTCDay","yearStart","getUTCFullYear","weekNo","Math","ceil","result","current","map","consulent","datum_tijd","Logo","console","log","e","detail","consulent_name","target"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Logo from '../../../images/logodiet.svg'\nimport TopNav from '../TopNav'\nimport '../../styles/Appointments/Appointments.css'\nimport { IonButton, IonCard, IonCol, IonContent, IonDatetime, IonIcon, IonInput, IonItem, IonItemOption, IonLabel, IonModal, IonSelect, IonSelectOption, IonTab, IonText, IonTextarea, IonTitle } from '@ionic/react'\nimport { calendar, chevronBackOutline, close } from 'ionicons/icons'\nimport Calendar from 'react-calendar'\nimport 'react-calendar/dist/Calendar.css';\nimport axios from 'axios'\nimport CurrentUser from '../../../Data/CurrentUser.json'\nimport SeeAppointment from './SeeAppointment'\n\nfunction Appointments() {\n    const [currentUser, setCurrentUser] = useState(CurrentUser[0])\n    const [showCalendar, setShowCalendar] = useState(false)\n    const [value, onChange] = useState(new Date())\n    const [modalController, setModalController] = useState(false)\n    const [selectConsulent, setSelectConsulent] = useState([])\n    const [date, setDate] = useState(\"\")\n    const [time, setTime] = useState(\"\")\n    const [name, setName] = useState(\"\")\n    const [email, setEmail] = useState(\"\")\n    const [number, setNumber] = useState(\"\")\n    const [comment, setComment] = useState(\"\")\n    const [confirmModal, setConfirmModal] = useState({ isOpen: false })\n    const [appointment, setAppointment] = useState([])\n\n    useEffect(async () => {\n        const api_url = 'http://31.14.96.253/appointments'\n        var response = await fetch(api_url)\n        var data = await response.json()\n        setAppointment(data)\n    }, [setAppointment])\n\n    // Get current month name\n    var d = new Date()\n    const monthNames = [\"Januari\", \"Februari\", \"Maart\", \"April\", \"Mei\", \"Juni\",\n        \"Juli\", \"Augustus\", \"September\", \"Oktober\", \"November\", \"December\"\n    ];\n\n    const month = (monthNames[d.getMonth()]);\n\n    // Get current week of year\n    function getWeekNumber(d) {\n        // Copy date so don't modify original\n        d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));\n        // Set to nearest Thursday: current date + 4 - current day number\n        // Make Sunday's day number 7\n        d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));\n        // Get first day of year\n        var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n        // Calculate full weeks to nearest Thursday\n        var weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);\n        // Return array of year and week number\n        return [weekNo];\n    }\n\n    var result = getWeekNumber(new Date());\n\n    return (\n        <IonContent className=\"calendarPage\">\n            <TopNav />\n            <div className=\"calendarContent\">\n                {currentUser ? (\n                    <div className=\"calendarContainer\">\n                        <div className=\"datePicker\">\n                            <button className={showCalendar ? \"currentWeek\" : \"currentWeekActive\"} onClick={() => setShowCalendar(false)}>Week {result}</button>\n                            <button className={showCalendar ? \"openCalendarActive\" : \"openCalendar\"} onClick={() => setShowCalendar(current => !current)}>{month}</button>\n                            <IonIcon icon={calendar} className=\"toCurrentDate\"></IonIcon>\n                        </div>\n                        <div className=\"events\">\n                            <button className=\"makeAppointment\" onClick={() => setModalController(current => !current)}>Afspraak inplannen</button>\n                        </div>\n                        <div className=\"appointmentContainer\">\n                        <IonTitle className=\"Title\">Mijn afspraken</IonTitle>\n                            {appointment.map((appointment) => {\n                                return <SeeAppointment key={appointment.consulent} consulent={appointment.consulent} date={appointment.datum_tijd} time={appointment.time} name={appointment.name} email={appointment.email} number={appointment.number} comment={appointment.comment} />\n                            })}\n                        </div>\n                    </div>\n                ) : (\n                    <div className=\"noUserWarning\">\n                        <p>Het lijkt er op dat u nog geen account heeft, log in om een afspraak te maken bij een van onze consulenten!</p>\n                        <button className=\"toLogin\">Inloggen</button>\n                    </div>\n                )}\n            </div>\n            { modalController ? (\n                <div className=\"Modal\">\n                    <div className=\"navigationInfo\">\n                        <IonIcon icon={chevronBackOutline} className=\"goBack\" onClick={() => setModalController(false)}></IonIcon>\n                        <img className=\"logo\" src={Logo} onClick={() => console.log(name)}></img>\n                    </div>\n                    <form>\n                        <div className=\"appointment\">\n                            <h2>Uw gegevens</h2>\n                            <IonSelect placeholder=\"Kies je consulent\" className=\"selectConsulent\" onIonChange={(e) => setSelectConsulent(e.detail.value)}>\n                                <IonSelectOption>{currentUser.consulent[0].consulent_name}</IonSelectOption>\n                            </IonSelect>\n                            <IonItem className=\"flexitem\" lines=\"none\">\n                                <IonDatetime onIonChange={(e) => setDate(e.detail.value)} className=\"selectDate\" min=\"2021-05-27\" max=\"2023-12-31\" displayTimezone=\"utc\" placeholder=\"Kies Datum\" displayFormat=\"DD/MM/YYYY\"></IonDatetime>\n                                <IonDatetime onIonChange={(e) => setTime(e.detail.value)} className=\"selectDate\" displayTimezone=\"utc\" placeholder=\"Kies Tijd\" displayFormat=\"HH:mm\"></IonDatetime>\n                            </IonItem>\n                            <IonItem className=\"item\" lines=\"none\">\n                                <IonInput className=\"inputIon\" onIonChange={(e) => setName(e.target.value)} inputMode=\"name\" name=\"naam\" type=\"name\" placeholder=\"Naam\" required=\"true\"></IonInput>\n                            </IonItem>\n                            <IonItem className=\"item\" lines=\"none\">\n                                <IonInput className=\"inputIon\" onIonChange={(e) => setEmail(e.target.value)} inputMode=\"email\" autocomplete=\"email\" minlength=\"5\" name=\"email\" type=\"email\" placeholder=\"E-mail\" required=\"true\"></IonInput>\n                            </IonItem>\n                            <IonItem className=\"item\" lines=\"none\">\n                                <IonInput className=\"inputIon\" onIonChange={(e) => setNumber(e.target.value)} inputMode=\"tel\" autocomplete=\"tel\" name=\"telefoonnummer\" minlength=\"10\" maxlength=\"10\" type=\"tel\" placeholder=\"Telefoonnummer\" required=\"true\"></IonInput>\n                            </IonItem>\n                            <IonItem className=\"item\" lines=\"none\">\n                                <IonTextarea onIonChange={(e) => setComment(e.target.value)} className=\"comment\" name=\"comment\" spellcheck=\"true\" auto-grow=\"true\" placeholder=\"Zet hier je opmerking\"></IonTextarea>\n                            </IonItem>\n                            <IonButton color=\"none\" className=\"submit\" onClick={() => setConfirmModal({ isOpen: true })}>Bevestigen</IonButton>\n                        </div>\n                        <IonModal isOpen={confirmModal.isOpen} className=\"confirmModal\">\n                            <div className=\"navigationInfo\">\n                                <IonIcon icon={close} className=\"goBack\" onClick={() => setConfirmModal({ isOpen: false })}></IonIcon>\n                                <img className=\"logo\" src={Logo} onClick={() => console.log(name)}></img>\n                            </div>\n                            <IonCol className=\"modalContent\">\n                                <h2 onClick={() => console.log(appointment)}>Bevestig afspraak</h2>\n                                <p><strong>Naam:</strong> {name}</p>\n                                <p><strong>Email:</strong> {email}</p>\n                                <p><strong>Tel. nummer:</strong> {number}</p>\n                                <p><strong>Consulent:</strong> {selectConsulent}</p>\n                                <p><strong>Datum:</strong> {date}</p>\n                                <p><strong>Tijd:</strong> {time}</p>\n                                <p className=\"comment\"><strong>Bericht:</strong> {comment}</p>\n                                <IonButton className=\"submit\" color=\"none\" onClick={() => { setModalController(false); setConfirmModal({ isOpen: false }) }}>Afspraak opslaan</IonButton>\n                                <a className=\"borderBottom\"></a>\n                            </IonCol>\n                        </IonModal>\n                        <a className=\"borderBottom\"></a>\n                    </form>\n                </div>\n            ) : (\n                null\n            )\n            }\n            <a className=\"borderBottom\"></a>\n        </IonContent >\n    )\n}\n\nexport default Appointments\n"]},"metadata":{},"sourceType":"module"}
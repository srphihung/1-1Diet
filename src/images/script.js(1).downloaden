!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=0)}([function(e,t,i){e.exports=i(2)},,function(e,t,i){"use strict";function s(e,t,i,s,n){var a=document.createElement("img");return a.src=t,a.width=i,a.height=i,a.className=s,a.alt=n,a}i.r(t);var n=function(e){return{appendCss:function(e,t){if(null===document.head.querySelector('link[href*="'+e+'"]')){var i=document.createElement("link");i.href=e,i.type="text/css",i.rel="stylesheet",i.onload=t,document.head.appendChild(i)}else t()},addClass:function(e,t){-1===e.className.split(" ").indexOf(t)&&(e.className=(e.className+" "+t).trim())},asset:function(t){return e+t},numberToStar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,i=e/10*5,n=document.createElement("div"),a=1;for(a=1;a<=i;a++)n.appendChild(s(0,this.asset("images/star-full-yellow.svg"),t,"tww_header__rating_star","Thuiswinkel.org star full"));for(i%1!=0&&(n.appendChild(s(0,this.asset("images/star-half-yellow.svg"),t,"tww_header__rating_star","Thuiswinkel.org star half")),a++);a<=5;)n.appendChild(s(0,this.asset("images/star-blank-yellow.svg"),t,"tww_header__rating_star","Thuiswinkel.org star blank")),a++;return n},isMobile:function(){return 1==/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}},a=null;var o=function(e,t,i,s,o,r,l,d){var c=n(s);!function(e,t){var i,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(a=new Image,i="B2B"===t?"images/mobile-business":"images/mobile",5!==n&&10!==n&&15!==n||(i+="-"+n),i&&(i+=".svg",a.src=e.asset(i)),s){var o=new Image;o.src=e.asset("images/delivery.svg")}var r=new Image;r.src=e.asset("images/check.svg")}(c,l,o.reviewCount>0,1===o.friendlydelivery,d);var p=document.createElement("div");c.addClass(p,"tww_sidebar_container"),t.split("-").forEach((function(e){5!==d&&10!==d&&15!==d||"left"!==e&&"right"!==e||(e+="_jubilee"),c.addClass(p,"tww_sidebar_"+e)}));var h=c.isMobile()?i:"widget";c.addClass(p,"tww_sidebar_"+h);var u=document.createElement("img");if(u.src=a.src,u.alt="Thuiswinkel.org sidebar logo",c.addClass(u,"tww_sidebar_logo"),p.addEventListener("click",e),p.appendChild(u),!c.isMobile()){var w=document.createElement("div");c.addClass(w,"tww_sidebar_button_container"),p.appendChild(w);var v=document.createElement("a");if(c.addClass(v,"tww_sidebar_button_check"),v.innerHTML="<span class='tww_sidebar_button_check_text'>gecertificeerd</span>",v.addEventListener("click",e),w.appendChild(v),o.reviewCount>0){var _=document.createElement("a");c.addClass(_,"tww_sidebar_button_star"),_.setAttribute("data-tab","reviews");var f="";o.averageScore&&(f="<span class='tww_sidebar_button_star_score'>"+o.averageScore+"</span>"),f+="<span class='tww_sidebar_button_star_text'>"+o.reviewCount+" beoordelingen</span>",_.innerHTML=f,_.addEventListener("click",e),w.appendChild(_)}if(1===o.friendlydelivery){var g=document.createElement("a");c.addClass(g,"tww_sidebar_button_delivery"),g.innerHTML="<span class='tww_sidebar_button_delivery_text'>Bewust Bezorgd</span>",g.addEventListener("click",e),w.appendChild(g)}}document.body.appendChild(p)},r=function(e,t){var i=window.innerWidth,s=t.left+t.width/2-e.offsetWidth/2;s<=5?(e.style.left="5px",e.style.right="auto"):s+e.offsetWidth>=i-5?(e.style.left="auto",e.style.right="5px"):(e.style.bottom="auto",e.style.left=s+"px")},l=function(e,t){var i=window.innerHeight,s=t.top+t.height/2-e.offsetHeight/2;s<=5?(e.style.top="5px",e.style.bottom="auto"):s+e.offsetHeight>=i-5?(e.style.top="auto",e.style.bottom="5px"):(e.style.bottom="auto",e.style.top=s+"px")},d=function(e,t){var i=t.left-e.offsetWidth-5;return!(i<=5)&&(e.style.left=i+"px",!0)},c=function(e,t){var i=window.innerWidth,s=t.left+t.width+5;return!(s+e.offsetWidth>=i)&&(e.style.left=s+"px",!0)},p=function(e,t){var i=t.top-e.offsetHeight-5;return!(i<=5)&&(e.style.top=i+"px",!0)},h=function(e,t){var i=window.innerHeight,s=t.top+t.height+5;return!(s+e.offsetHeight>=i)&&(e.style.top=s+"px",!0)},u=function(e,t,i){var s=e.getBoundingClientRect(),n=e.querySelector('[class*="tww_popup_container_'+t+'"]'),a={left:[d,c,p,h],right:[c,d,p,h],top:[p,h,c,d],bottom:[h,p,c,d]};if(void 0===a[i]&&void 0!==n&&s)return!1;for(var o in function(e){e.style.top="",e.style.bottom="",e.style.left="",e.style.right=""}(n),a[i]){var u=a[i][o];if(u(n,s)){if(u===c||u===d){l(n,s);break}if(u===h||u===p){r(n,s);break}}}},w={init:function(e,t,i,s,a,o,r,l,d,c){var p=this;this.configId=e,this.helper=n(a),this.containers=document.getElementsByClassName("tww_popup_wrapper_"+this.configId),this.businessType=d,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t){if(i<=8){var s=new Image;s.src=e.asset("images/star-blank-yellow.svg")}if(i>0){var n=new Image;n.src=e.asset("images/star-full-yellow.svg")}if(i%2!=0){var a=new Image;a.src=e.asset("images/star-half-yellow.svg")}}}(this.helper,o.reviewCount>0,o.averageScore,c);var h=this,w=document.createElement("img");w.alt="Thuiswinkel.org popup logo",this.helper.addClass(w,"tww_popup__image");var v=null;switch(t){case"color-vertical":v="logo";break;case"color-horizontal":v="popup-color-h";break;case"black-vertical":v="popup-bw-v";break;case"black-horizontal":v="popup-bw-h";break;default:return!1}l&&(v+="-white"),"B2B"===this.businessType&&(v+="-business"),5!==c&&10!==c&&15!==c||(v+="-"+c),w.src=this.helper.asset("images/"+v+".svg");var _=document.createElement("div");_.className="tww_popup__logo",_.id="tww_popup_"+this.configId,this.helper.addClass(_,"tww_popup_"+this.configId),_.appendChild(w);for(var f=function(e){p.helper.addClass(p.containers[e],"tww_popup_wrapper");var t=_.cloneNode(!0);t.addEventListener("mouseenter",(function(){this.classList.add("is-hoverd")})),t.addEventListener("mouseleave",(function(){this.classList.remove("is-hoverd")})),t.firstChild.addEventListener("mouseenter",(function(){u(t,h.configId,s)})),window.addEventListener("scroll",(function(){t.classList.contains("is-hoverd")&&u(t,h.configId,s)})),p.containers[e].innerHTML="",p.containers[e].appendChild(t)},g=0;g<this.containers.length;g++)f(g);this.togglePopup(i,s,o,c)},togglePopup:function(e,t,i,s){if(0===document.getElementsByClassName("tww_popup_container_"+this.configId).length){var n=document.createElement("div");n.id="tww_popup_container_"+this.configId,this.helper.addClass(n,"tww_popup_container_"+this.configId),this.helper.addClass(n,"tww_popup__container");var a=null!=i.averageScore?i.averageScore:0,o=i.reviewCount>0?"tww_header__row__col-50 ":"tww_header__row__col-100 ",r='<div class="tww_header"> <div class="tww_header__top"><div class="tww_header__row"><div class="'+o+'"><div class="tww_header__title">Certificering</div></div>';i.reviewCount>0&&(r+='<div class="'+o+'"><div class="tww_header__title">Reviewscore</div></div>');var l="B2B"===this.businessType?"images/logo-business":"images/logo";if(5!==s&&10!==s&&15!==s||(l+="-"+s),l+=".svg",r+='</div><div class="tww_header__row"><div class="'+o+'"><div class="tww_header__logo"><img class="tww_header__logo__image" src="'+this.helper.asset(l)+'" width="95" height="95" alt="Thuiswinkel.org header logo"/></div></div>',i.reviewCount>0&&(r+='<div class="'+o+'"><div class="tww_header__score"><span class="tww_header__score__numerator">'+a+'</span> <span class="tww_header__score__denominator">/ 10</span></div><div class="tww_header__rating"></div></div>'),r+='</div></div><div class="tww_header__bottom"><div class="tww_header__bottom__body"><div class="tww_header__content">Veilig online shoppen doe je bij webwinkels met het Thuiswinkel Waarborg!</div><div class="tww_header__content"><span class="tww_header__company">Uitgegeven aan: '+i.name+'</span></div><div class="tww__button">Controleer echtheid</a></div></div></div>',n.innerHTML=r,i.reviewCount>0){var d=this.helper.numberToStar(i.averageScore);n.getElementsByClassName("tww_header__rating")[0].appendChild(d)}for(var c=0;c<this.containers.length;c++){var p=n.cloneNode(!0);p.getElementsByClassName("tww__button")[0].addEventListener("click",e),this.containers[c].firstChild.appendChild(p)}}}},v={get:function(e,t){var i=new XMLHttpRequest;i.open("GET",e),i.send(null),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var e=JSON.parse(i.responseText);t(e)}}}},_={init:function(e,t){this.options=t,this.type=e,this.helper=n(this.options.assets);var i=this,s=this.options.content+"load-statistics?host="+window.location.host;1===this.options.testmode&&(s+="&test=1"),void 0!==this.options.businessType&&(s+="&type="+this.options.businessType),v.get(s,(function(e){void 0===e.error&&(i.statistics=e,i.helper.appendCss(i.helper.asset("tww_widget_styles.css"),i.createWidget.bind(i)))}))},createWidget:function(){if("widget"===this.type){var e=this.helper.isMobile()?this.options.location_mobile:this.options.location_desktop,t=void 0!==this.options.size_mobile?this.options.size_mobile:"normal";o(this.showOverlay.bind(this),e,t,this.options.assets,this.statistics,this.options.testmode,this.options.businessType,this.options.jubilee)}else if("popup"===this.type){var i="white"===this.options.text_color;!function(e,t,i,s,n,a,o,r,l,d){w.init(e,t,i,s,n,a,o,r,l,d)}(this.options.configId,this.options.popup_logo,this.showOverlay.bind(this),this.options.location_popup,this.options.assets,this.statistics,this.testmode,i,this.options.businessType,this.options.jubilee)}},showOverlay:function(e){e.stopPropagation(),e.preventDefault();var t=(-1===this.options.content.indexOf("cdn")?this.options.content:"https://content.widget.thuiswinkel.org/").concat("shop?host="+window.location.host).concat("&test="+this.options.testmode).concat("&type="+this.options.businessType),i=e.target.getAttribute("data-tab");void 0!==i&&(t+="&tab="+i);var s=document.getElementById("tww_sidebar_overlay"),n=document.getElementsByClassName("tww_overlay__iframe")[0];if(null!==s)n.src!==t&&(n.src=t),s.style.display="block";else{(s=document.createElement("div")).id="tww_sidebar_overlay",this.helper.addClass(s,"tww_overlay__container"),s.addEventListener("click",this.hideOverlay.bind(this));var a=document.createElement("div");this.helper.addClass(a,"tww_overlay__content");var o=document.createElement("div");o.innerText="x",this.helper.addClass(o,"tww_button__close"),o.addEventListener("click",this.hideOverlay.bind(this));var r=document.createElement("iframe");this.helper.addClass(r,"tww_overlay__iframe"),r.allowFullscreen=!1,r.src=t,a.appendChild(r),a.appendChild(o),s.appendChild(a),document.body.appendChild(s)}},hideOverlay:function(){var e=document.getElementById("tww_sidebar_overlay");e&&(e.style.display="none")}};var f=null,g=null;void 0===document.currentScript&&function(e){var t=e.getElementsByTagName("script");"currentScript"in e||Object.defineProperty(e,"currentScript",{get:function(){try{throw new Error}catch(s){var e,i=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(s.stack)||[!1])[1];for(e in t)if(t[e].src==i||"interactive"==t[e].readyState)return t[e];return null}}})}(document);for(var m=[document.currentScript],b=0;b<m.length;++b){var y=m[b].getAttribute("src");if(y&&(-1!==y.indexOf("https://preview.allesonline.nl/thuiswinkel-script-api/public/script.js")||-1!==y.indexOf("http://thuiswinkel-script-api.local.alles.hosting/script.js")||-1!==y.indexOf("http://thuiswinkel-script-api.local.alles.hosting:8080/script.js")||-1!==y.indexOf("https://widget.thuiswinkel.org/script.js")||-1!==y.indexOf("http://widget.thuiswinkel.org/script.js")||-1!==y.indexOf("//widget.thuiswinkel.org/script.js")||-1!==y.indexOf("https://widget.thuiswinkel-cdn.org/script.js")||-1!==y.indexOf("http://widget.thuiswinkel-cdn.org/script.js")||-1!==y.indexOf("//widget.thuiswinkel-cdn.org/script.js"))){f=y,g=m[b];break}}if(f){var C=function(e){var t="production";-1!==e.indexOf("preview.allesonline.nl")?t="preview":-1!==e.indexOf("local.alles.hosting")&&(t="local");var i="https://widgetcontent.thuiswinkel-cdn.org/",s="https://widget.thuiswinkel-cdn.org/";switch(t){case"local":i="http://thuiswinkel-script-cms.local.alles.hosting/",s="http://thuiswinkel-script-api.local.alles.hosting/";break;case"preview":i="https://preview.allesonline.nl/thuiswinkel-script-cms/public/",s="https://preview.allesonline.nl/thuiswinkel-script-api/public/"}return{content:i,assets:s}}(f),k=g.getAttribute("data-content-url")||C.content,E=g.getAttribute("data-widget-url")||C.assets,x=function(e){var t=e.indexOf("?id=");if(t>=0){var i=e.substring(t+4),s=i.indexOf("&");return-1!==s&&(i=i.substring(0,s)),atob(i)}return null}(f);null!==x&&function(e){if("interactive"===document.readyState||"complete"===document.readyState)e.call(window);else{var t=document;t.addEventListener&&t.addEventListener("DOMContentLoaded",(function i(s){t.removeEventListener("DOMContentLoaded",i),e.call(window,s)}))}}((function(){var e,t,i;e=k,t=x,i=function(e){if(null!==e){var t=e.options;t.testmode=e.testmode,t.configId=btoa(x),t.content=k,t.assets=E,t.businessType=1==e.business?"B2B":"B2C",t.jubilee=e.jubilee,function(e,t){_.init(e,t)}(e.type,t)}},v.get(e+"load-widget-config/"+t,(function(e){i(e)}))}))}var O=window.addEventListener?"addEventListener":"attachEvent";(0,window[O])("attachEvent"===O?"onmessage":"message",(function(e){"closeTwPopup"==e.data&&_.hideOverlay()}),!1)}]);